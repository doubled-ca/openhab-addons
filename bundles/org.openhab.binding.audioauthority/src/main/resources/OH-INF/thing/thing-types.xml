<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="audioauthority"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

	<!-- Sonaflex Thing Type -->
	<thing-type id="sonaflex">
		<label>AudioAuthority Sonaflex SF16-M thing</label>
		<description> AudioAuthority Sonaflex SF16M matrix amplifier</description>

		<channel-groups>
			<channel-group typeId="zone" id="zone1">
				<label>Zone 1 Control</label>
				<description>Controls for Zone 1</description>
			</channel-group>
			<channel-group typeId="zone" id="zone2">
				<label>Zone 2 Control</label>
				<description>Controls for Zone 2</description>
			</channel-group>
			<channel-group typeId="zone" id="zone3">
				<label>Zone 3 Control</label>
				<description>Controls for Zone 3</description>
			</channel-group>
			<channel-group typeId="zone" id="zone4">
				<label>Zone 4 Control</label>
				<description>Controls for Zone 4</description>
			</channel-group>
			<channel-group typeId="zone" id="zone5">
				<label>Zone 5 Control</label>
				<description>Controls for Zone 5</description>
			</channel-group>
			<channel-group typeId="zone" id="zone6">
				<label>Zone 6 Control</label>
				<description>Controls for Zone 6</description>
			</channel-group>
			<channel-group typeId="zone" id="zone7">
				<label>Zone 7 Control</label>
				<description>Controls for Zone 7</description>
			</channel-group>
			<channel-group typeId="zone" id="zone8">
				<label>Zone 8 Control</label>
				<description>Controls for Zone 8</description>
			</channel-group>
			<channel-group typeId="zone" id="zone9">
				<label>Zone 9 Control</label>
				<description>Controls for Zone 9</description>
			</channel-group>
			<channel-group typeId="zone" id="zone10">
				<label>Zone 10 Control</label>
				<description>Controls for Zone 10</description>
			</channel-group>
			<channel-group typeId="zone" id="zone11">
				<label>Zone 11 Control</label>
				<description>Controls for Zone 11</description>
			</channel-group>
			<channel-group typeId="zone" id="zone12">
				<label>Zone 12 Control</label>
				<description>Controls for Zone 12</description>
			</channel-group>
			<channel-group typeId="zone" id="zone13">
				<label>Zone 13 Control</label>
				<description>Controls for Zone 13</description>
			</channel-group>
			<channel-group typeId="zone" id="zone14">
				<label>Zone 14 Control</label>
				<description>Controls for Zone 14</description>
			</channel-group>
			<channel-group typeId="zone" id="zone15">
				<label>Zone 15 Control</label>
				<description>Controls for Zone 15</description>
			</channel-group>
			<channel-group typeId="zone" id="zone16">
				<label>Zone 16 Control</label>
				<description>Controls for Zone 16</description>
			</channel-group>
		</channel-groups>



		<config-description>
			<parameter name="ipAddress" type="text" required="true">
				<context>IP Control</context>
				<label>IP Address</label>
				<description>The IP address of the AudioAuthority Sonaflex SF-16M to control.</description>
			</parameter>
			<parameter name="tcpPort" type="decimal" max="65535" min="1">
				<default>23</default>
				<label>TCP Port</label>
				<description>The TCP port number used to connect to the AudioAuthority Sonaflex SF-16M.</description>
				<advanced>true</advanced>
			</parameter>
			<parameter name="unit" type="integer" min="1" max="4">
				<default>1</default>
				<label>Unit</label>
				<description>For multiple unit setups, the Unit number of the Sonaflex SF-16M this thing will control </description>
				<advanced>true</advanced>
			</parameter>
			<parameter name="activeOutputs" type="decimal" min="1" max="16">
				<label>Active Output Zones</label>
				<description>The number of audio outputs active for this unit.</description>
				<default>4</default>
				<advanced>true</advanced>
			</parameter>
			<parameter name="polling" type="integer" min="0">
				<label>Polling Interval</label>
				<description>Interval (in seconds) to poll the actual state of the Matrix</description>
				<default>600</default>
				<advanced>true</advanced>
			</parameter>
			<parameter name="ping" type="integer">
				<label>Ping Interval</label>
				<description>Ping Interval (in seconds) to keep the connection alive</description>
				<default>30</default>
				<advanced>true</advanced>
			</parameter>
			<parameter name="retryPolling" type="integer">
				<label>Polling Interval to Try to Reconnect</label>
				<description>Interval (in seconds) to try to (re)connect to the matrix</description>
				<default>10</default>
				<advanced>true</advanced>
			</parameter>

		</config-description>
	</thing-type>



	<channel-group-type id="zone">
		<label>Zone Control</label>
		<description>Channels for a zone of this AVR.</description>
		<channels>
			<channel id="power" typeId="zonePower"/>
			<channel id="volume" typeId="volume"/>
			<channel id="volumeDB" typeId="volumeDB"/>
			<channel id="mute" typeId="mute"/>
			<channel id="input" typeId="input"/>
			<channel typeId="stereo" id="stereo"/>
			<channel typeId="name" id="name"/>
		</channels>
	</channel-group-type>

	<channel-type id="zonePower">
		<item-type>Switch</item-type>
		<label>Power (zone)</label>
		<description>Power ON/OFF this zone of the AVR</description>
	</channel-type>

	<channel-type id="volume">
		<item-type>Dimmer</item-type>
		<label>Volume</label>
		<description>Set the volume level of this zone</description>
		<category>SoundVolume</category>
		<state min="0" max="100" step="5" pattern="%3d %%"/>
		
	</channel-type>

	<channel-type id="volumeDB" advanced="true">
		<item-type>Number</item-type>
		<label>Volume (dB)</label>
		<description>Set the volume level (dB).</description>
		<category>SoundVolume</category>
		<state min="-80" max="0" step="5" pattern="%3d dB"/>

		<!-- <state min="-80" max="18" step="0.5" pattern="%.1f dB"/> -->
	</channel-type>

	<channel-type id="mute">
		<item-type>Switch</item-type>
		<label>Mute</label>
		<description>Enable/Disable Mute on this zone of the AVR</description>
	</channel-type>

	<channel-type id="stereo">
		<item-type>Switch</item-type>
		<label>Stereo</label>
		<description>Mark this zone of the AVR as Stereo</description>
	</channel-type>

	<channel-type id="name">
		<item-type>String</item-type>
		<label>Name</label>
		<description>Label for the Input/Output</description>
	</channel-type>

	<channel-type id="input">
		<item-type>Number</item-type>
		<label>Input Source</label>
		<description>Select the input source for this zone of the AVR</description>
		<state>
			<options>
				<option value="1">Sonos</option>
				<option value="2">Sonos</option>
				<option value="3">Oppo</option>
				<option value="4">Oppo</option>
				<option value="5">5</option>
				<option value="6">6</option>
				<option value="7">7</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
				<option value="13">13</option>
				<option value="14">14</option>
				<option value="15">15</option>
				<option value="16">16</option>
				<option value="17">17</option>
				<option value="18">18</option>
				<option value="19">19</option>
				<option value="20">20</option>


			</options>
		</state>
	</channel-type>


</thing:thing-descriptions>
